!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("protobufjs")):"function"==typeof define&&define.amd?define(["exports","protobufjs"],n):n(e.pbToTypescript={},e.protobuf)}(this,function(e,n){var t="default"in n?n.default:n,r={double:"number",float:"number",int32:"number",int64:"string",uint32:"number",uint64:"string",sint32:"number",sint64:"string",fixed32:"number",fixed64:"string",sfixed32:"number",sfixed64:"string",bool:"boolean",string:"string",bytes:"string"},o="google.protobuf.Empty";function a(e){var r,o,a=t.parse(e,{keepCase:!0,alternateCommentMode:!0});return o=(r=a.package?a.root.lookup(a.package):a.root).nestedArray.find(function(e){return e instanceof n.Service}),r.lookupService(o.name).methods}function i(e){switch(e){case"string":return"Hello";case"number":return 10;case"bool":return!0;case"int32":return 10;case"int64":return"20";case"uint32":return 100;case"uint64":return"100";case"sint32":return 100;case"sint64":return"-1200";case"fixed32":return 1400;case"fixed64":return"1500";case"sfixed32":return 1600;case"sfixed64":return"-1700";case"double":return 1.4;case"float":return 1.1;case"bytes":return new Buffer("Hello");default:return null}}function u(e,r){var o=t.parse(e,{keepCase:!0,alternateCommentMode:!0});return function(e,t){var r=e.nestedArray.find(function(e){return e instanceof n.Service}),o=e.lookupService(r.name);return function e(t,r){var o=t.lookupTypeOrEnum(r);return o instanceof n.Enum?Object.values(o.values)[0]:o.fieldsArray&&o.fieldsArray.reduce(function(r,o){var a,u,s,p,c,f,m,d;if(o instanceof n.MapField){var y=i(o.keyType),l=i(o.type),b=l?((u={})[o.name]=((a={})[y]=l,a),u):((p={})[o.name]=((s={})[y]=e(t,o.type),s),p);return Object.assign({},r,b)}if("repeated"===o.rule){var k=i(o.type),g=k?((c={})[o.name]=[k],c):((f={})[o.name]=[e(t,o.type)],f);return Object.assign({},r,g)}var v=i(o.type),j=v?((m={})[o.name]=v,m):((d={})[o.name]=e(t,o.type),d);return Object.assign({},r,j)},{})}(e,o.methods[t].responseType)}(o.package?o.root.lookup(o.package):o.root,r)}var s={isDefinition:!0};function p(e,n){var t=e.nested;return t?Object.keys(t).map(function(e){var a=t[e];return Object.keys(a).map(function(t){return"fields"===t?function(e,n,t){var o=function(e,n){return{category:"fields",name:e,params:Object.keys(n).map(function(e){var t,o=n[e];return{type:r[o.type]||o.type,keyType:(t=o,t.keyType?r[t.keyType]||t.keyType:""),name:e,rule:o.rule,id:o.id}}).sort(function(e,n){return e.id-n.id})}}(e,a.fields),i=o.params.map(function(e){return"repeated"===e.rule?"  "+e.name+": "+e.type+"[];\n":e.keyType?"  "+e.name+": {[key: "+e.keyType+"]: "+e.type+"};\n":"  "+e.name+": "+e.type+";\n"});return(t.isDefinition?"":"export ")+"interface "+o.name+" {\n"+i.join("")+"}\n\n"}(e,0,n):"methods"===t?function(e,n,t){return""+function(e,n){return{category:"methods",name:e,params:Object.keys(n).map(function(e){return Object.assign({},{name:e},n[e])})}}(e,a.methods).params.map(function(e){return(t.isDefinition?"":"export ")+"interface "+e.name+" {\n  ("+(e.requestType===o?"":"params: "+e.requestType)+"): Promise<"+(e.responseType===o?"{}":e.responseType)+">;\n}\n\n"}).join("")}(e,0,n):"values"===t?function(e,n,t){var r=a.values,o=Object.keys(r).map(function(e){return{name:e,id:r[e]}}).sort(function(e,n){return e.id-n.id}).map(function(e){return"  "+e.name+" = "+e.id+",\n"}).join("");return(t.isDefinition?"":"export ")+"enum "+e+" {\n"+o+"}\n\n"}(e,0,n):"nested"===t?p(a,n):void 0})}).reduce(function(e,n){return e.concat(n)},[]).join(""):""}function c(e,n){var r=Object.assign({},s,n),o=t.parse(e,{keepCase:!0});return p(o.package?o.root.lookup(o.package).toJSON():o.root.toJSON(),r)}var f={parseProto:c,getAllMethods:a,mockResponse:u};e.printTypescript=p,e.parseProto=c,e.getAllMethods=a,e.mockResponse=u,e.default=f});
//# sourceMappingURL=index.umd.js.map
